<%= form_for(@report) do |f| %>
  <% if @report.errors.any? %>
    <div id="error_explanation">
      <h2><%= pluralize(@report.errors.count, "error") %> prohibited this report from being generated:</h2>

      <ul>
      <% @report.errors.full_messages.each do |message| %>
        <li><%= message %></li>
      <% end %>
      </ul>
    </div>
  <% end %>

  <div class="field">
    <%= f.label :report_type_id %><br>
    <%= f.collection_select(:report_type_id, [@report.report_type], :id, :name, {}) %>
  </div>
  <div>
    <% @report.field_inputs.each do |field_input| %>
      <%= f.fields_for :field_inputs, field_input do |ff| %>
        <%= ff.hidden_field :field_id %>
        <div class="field">
          <%= ff.label :input, field_input.field.name %>
          <%= ff.text_field :input %>
        </div>
      <% end %>
    <% end %>
  </div>
  <div class="actions">
    <%= f.submit %>
  </div>
<% end %>
